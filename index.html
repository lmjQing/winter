<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11-17</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .danmu-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            pointer-events: none;
            z-index: 1000;
            padding: 20px;
        }

        .danmu-item {
            position: absolute;
            color: #666;
            padding: 0;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1), 0 4px 15px rgba(0, 0, 0, 0.05);
            opacity: 0;
            transform: scale(0.3);
            white-space: normal;
            max-width: 220px;
            min-width: 180px;
            overflow: hidden;
            z-index: 1001;
            animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        /* ç²‰è‰²ä¸»é¢˜ */
        .danmu-item.theme-pink {
            background: linear-gradient(135deg, #fef1f3 0%, #fce4ec 100%);
            border: 1px solid rgba(252, 228, 236, 0.8);
        }
        
        .danmu-item.theme-pink .danmu-header {
            background: rgba(255, 182, 193, 0.15);
            border-bottom: 1px solid rgba(255, 182, 193, 0.2);
            color: #e91e63;
        }

        /* è“è‰²ä¸»é¢˜ */
        .danmu-item.theme-blue {
            background: linear-gradient(135deg, #f0f6ff 0%, #e6f2ff 100%);
            border: 1px solid rgba(176, 216, 255, 0.8);
        }
        
        .danmu-item.theme-blue .danmu-header {
            background: rgba(135, 206, 235, 0.15);
            border-bottom: 1px solid rgba(135, 206, 235, 0.2);
            color: #1976d2;
        }

        /* ç»¿è‰²ä¸»é¢˜ */
        .danmu-item.theme-green {
            background: linear-gradient(135deg, #f1f8e9 0%, #e8f5e8 100%);
            border: 1px solid rgba(200, 230, 201, 0.8);
        }
        
        .danmu-item.theme-green .danmu-header {
            background: rgba(144, 238, 144, 0.15);
            border-bottom: 1px solid rgba(144, 238, 144, 0.2);
            color: #388e3c;
        }

        /* ç´«è‰²ä¸»é¢˜ */
        .danmu-item.theme-purple {
            background: linear-gradient(135deg, #f8f5ff 0%, #f3e5f5 100%);
            border: 1px solid rgba(225, 190, 231, 0.8);
        }
        
        .danmu-item.theme-purple .danmu-header {
            background: rgba(186, 104, 200, 0.15);
            border-bottom: 1px solid rgba(186, 104, 200, 0.2);
            color: #7b1fa2;
        }

        /* æ©™è‰²ä¸»é¢˜ */
        .danmu-item.theme-orange {
            background: linear-gradient(135deg, #fff8f0 0%, #ffecdf 100%);
            border: 1px solid rgba(255, 204, 128, 0.8);
        }
        
        .danmu-item.theme-orange .danmu-header {
            background: rgba(255, 183, 77, 0.15);
            border-bottom: 1px solid rgba(255, 183, 77, 0.2);
            color: #ff8f00;
        }

        /* é’è‰²ä¸»é¢˜ */
        .danmu-item.theme-cyan {
            background: linear-gradient(135deg, #e8f8f8 0%, #e0f2f1 100%);
            border: 1px solid rgba(178, 223, 219, 0.8);
        }
        
        .danmu-item.theme-cyan .danmu-header {
            background: rgba(77, 208, 225, 0.15);
            border-bottom: 1px solid rgba(77, 208, 225, 0.2);
            color: #00acc1;
        }

        .danmu-header {
            padding: 8px 12px;
            border-radius: 12px 12px 0 0;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .danmu-content {
            padding: 10px 12px;
            color: #666;
            font-size: 14px;
            line-height: 1.4;
        }

        .danmu-icon {
            font-size: 14px;
            animation: heartbeat 2s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        @keyframes popIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.1);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes sparkle {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            25% {
                transform: scale(1.2) rotate(90deg);
                opacity: 0.8;
            }
            50% {
                transform: scale(0.8) rotate(180deg);
                opacity: 1;
            }
            75% {
                transform: scale(1.1) rotate(270deg);
                opacity: 0.9;
            }
        }

        .title {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 28px;
            font-weight: 700;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);
            z-index: 2000;
            animation: titlePulse 2s ease-in-out infinite;
        }

        @keyframes titlePulse {
            0%, 100% {
                transform: translateX(-50%) scale(1);
                opacity: 0.9;
            }
            50% {
                transform: translateX(-50%) scale(1.05);
                opacity: 1;
            }
        }

        .stats {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            border-radius: 15px;
            color: white;
            font-size: 14px;
            font-weight: 500;
            z-index: 2000;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .progress-ring {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            z-index: 500;
        }

        .progress-ring circle {
            fill: none;
            stroke: rgba(255, 255, 255, 0.3);
            stroke-width: 4;
        }

        .progress-ring .progress {
            stroke: #ffffff;
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 0.5s ease;
            transform-origin: 50% 50%;
            transform: rotate(-90deg);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .danmu-item {
                max-width: 180px;
                min-width: 160px;
            }
            
            .danmu-header {
                padding: 6px 10px;
                font-size: 11px;
            }
            
            .danmu-content {
                padding: 8px 10px;
                font-size: 13px;
            }

            .title {
                font-size: 22px;
            }

            .stats {
                bottom: 20px;
                right: 20px;
                padding: 12px 16px;
                font-size: 12px;
            }
        }
        
        @media (max-width: 480px) {
            .danmu-item {
                max-width: 160px;
                min-width: 140px;
            }
            
            .danmu-header {
                padding: 5px 8px;
                font-size: 10px;
                gap: 4px;
            }
            
            .danmu-content {
                padding: 6px 8px;
                font-size: 12px;
            }
            
            .danmu-icon {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="title">ğŸ’ç»™å®å®ğŸ’</div>
    
    <div class="danmu-container" id="danmuContainer"></div>
    
    <div class="stats" id="stats">
        ç”Ÿæˆä¸­: 0 / 100
    </div>

    <svg class="progress-ring" id="progressRing">
        <circle cx="50" cy="50" r="45" class="progress" id="progressCircle"></circle>
    </svg>

    <script>
        // ç»™å¥³æœ‹å‹çš„ç”œèœœè¯è¯­
        const warmTips = [
            "å®å®è®°å¾—å¤šå–æ°´å“¦", "æ—©ç‚¹ç¡è§‰ï¼Œæ¢¦é‡Œè§ä½ ", "å¤©å†·äº†å¤šç©¿ç‚¹", "æƒ³ä½ äº†", "ä½ ä»Šå¤©ä¹Ÿå¾ˆç¾",
            "è®°å¾—æŒ‰æ—¶åƒé¥­", "å‡ºé—¨è¦å°å¿ƒå“¦", "åˆ«ç´¯ç€è‡ªå·±", "ä½ æ˜¯æˆ‘çš„å°å…¬ä¸»", "çˆ±ä½ çˆ±ä½ çˆ±ä½ ",
            "ä»Šå¤©æœ‰å¥½å¥½æƒ³æˆ‘å—", "ä½ çš„ç¬‘å®¹æœ€å¥½çœ‹", "æ¯å¤©éƒ½æƒ³æŠ±æŠ±ä½ ", "åšæˆ‘çš„å°å®è´å¥½ä¸å¥½", "æ°¸è¿œçˆ±ä½ ",
            "åˆ«ç†¬å¤œäº†ä¹–", "è®°å¾—æƒ³æˆ‘å“¦", "ä½ æ˜¯æœ€æ£’çš„å¥³å­©", "ä»Šå¤©ä¹Ÿè¦å¼€å¿ƒ", "æˆ‘çš„å°å¯çˆ±",
            "ä¿æŠ¤å¥½è‡ªå·±", "ä½ åœ¨æˆ‘å¿ƒé‡Œæœ€é‡è¦", "æƒ³å’Œä½ ä¸€èµ·çœ‹ç”µå½±", "ä½ çš„å£°éŸ³æœ€å¥½å¬", "æƒ³ç‰µä½ çš„æ‰‹",
            "ä¸€èµ·å»çœ‹æ˜Ÿæ˜Ÿå§", "ä½ æ˜¯æˆ‘çš„å°å¤©ä½¿", "æƒ³ç»™ä½ åšé¥­åƒ", "é™ªä½ åˆ°ä¸–ç•Œå°½å¤´", "ä½ å°±æ˜¯æˆ‘çš„å…¨ä¸–ç•Œ",
            "æƒ³å’Œä½ ä¸€èµ·æ…¢æ…¢å˜è€", "ä½ ç¬‘èµ·æ¥åƒç³–æœ", "æƒ³æ¯å¤©å«ä½ èµ·åºŠ", "æˆ‘ä»¬ä¸€èµ·åŠªåŠ›å˜æ›´å¥½", "ä½ çš„æ‹¥æŠ±æœ€æ¸©æš–",
            "æƒ³å’Œä½ å»æ—…è¡Œ", "ä½ æ˜¯æˆ‘è§è¿‡æœ€å¯çˆ±çš„äºº", "æ¯ä¸ªç¬é—´éƒ½æƒ³å’Œä½ åˆ†äº«", "ä½ çš„å°è„¾æ°”æˆ‘éƒ½å–œæ¬¢", "æƒ³é™ªä½ çœ‹æ—¥å‡ºæ—¥è½",
            "æˆ‘çš„å°å¿ƒè‚", "æƒ³ç»™ä½ æ‘˜æ˜Ÿæ˜Ÿ", "ä½ çš„å°æ‰‹å¥½æ¸©æš–", "æƒ³ä¿æŠ¤ä½ ä¸€è¾ˆå­", "ä½ æ˜¯æˆ‘çš„å°ç¡®å¹¸",
            "æƒ³å’Œä½ è¿‡æ¯ä¸€ä¸ªèŠ‚æ—¥", "ä½ çš„çœ¼ç›ä¼šè¯´è¯", "æƒ³ç»™ä½ ä¹°å¥½å¤šå¥½åƒçš„", "åšä½ çš„ä¸“å±éª‘å£«", "ä½ å¼€å¿ƒæˆ‘å°±å¼€å¿ƒ",
            "æƒ³å’Œä½ ä¸€èµ·å˜æˆå°å­©", "ä½ æ˜¯æˆ‘æœ€ç”œçš„æ¢¦", "æƒ³ç»™ä½ å…¨ä¸–ç•Œçš„æ¸©æŸ”", "ä½ çš„å°ä»»æ€§æˆ‘éƒ½å® ç€", "æƒ³å’Œä½ åæŒ‡ç›¸æ‰£",
            "æˆ‘çš„å°å®è´è¦å¥åº·å¿«ä¹", "æƒ³æ¯å¤©å¯¹ä½ è¯´æ—©å®‰æ™šå®‰", "ä½ æ˜¯æˆ‘çš„å°å¹¸è¿", "æƒ³å’Œä½ ä¸€èµ·çœ‹éä¸–ç•Œç¾æ™¯", "ä½ åœ¨èº«è¾¹å°±æ˜¯æ™´å¤©",
            "æƒ³å½“ä½ çš„ä¸“å±å°å¨å¸ˆ", "ä½ çš„æ¯ä¸ªè¡¨æƒ…éƒ½è®©æˆ‘å¿ƒåŠ¨", "æƒ³ç»™ä½ å†™ä¸€ä¸‡å°æƒ…ä¹¦", "åšä½ æ°¸è¿œçš„å°å¤ªé˜³", "ä½ æ˜¯æˆ‘è¿™è¾ˆå­æœ€ç¾çš„ç›¸é‡",
            "æƒ³å’Œä½ ç™½å¤´å•è€", "ä½ çš„å°ç§˜å¯†æˆ‘éƒ½æƒ³çŸ¥é“", "æƒ³ç»™ä½ æœ€å¥½çš„ä¸€åˆ‡", "æˆ‘çš„å¿ƒé‡Œåªæœ‰ä½ ", "æƒ³å’Œä½ è¿‡å¹³å‡¡è€Œå¹¸ç¦çš„æ¯ä¸€å¤©"
        ];

        let danmuCount = 0;
        let totalTargetCount = 100; // ç›®æ ‡ç”Ÿæˆ100æ¡
        let intervalId = null;
        let currentZIndex = 10000;

        const danmuContainer = document.getElementById('danmuContainer');
        const statsElement = document.getElementById('stats');
        const progressCircle = document.getElementById('progressCircle');

        // ç”Ÿæˆéšæœºä½ç½® 
        function getRandomPosition() {
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;
            
            // æ¸©é¦¨æç¤ºå¼¹å¹•å®½åº¦å›ºå®šä¸º220px
            const danmuWidth = 220;
            const danmuHeight = 70; // æ¸©é¦¨æç¤ºé«˜åº¦æ›´é«˜
            const margin = 15;
            
            // OPPO Reno12 Pro å’Œå°å±å¹•è®¾å¤‡ä¼˜åŒ–
            const isSmallScreen = screenWidth < 450;
            if (isSmallScreen) {
                // å°å±å¹•è®¾å¤‡ä½¿ç”¨æ›´å°çš„å¼¹å¹•å’Œè¾¹è·
                const optimizedDanmuWidth = 180;
                const optimizedMargin = 10;
                
                const maxX = screenWidth - optimizedDanmuWidth - optimizedMargin;
                const maxY = screenHeight - danmuHeight - optimizedMargin;
                
                const x = Math.random() * Math.max(maxX, optimizedMargin) + optimizedMargin;
                const y = Math.random() * Math.max(maxY, optimizedMargin) + optimizedMargin;
                
                if (danmuCount < 3) {
                    console.log(`å°å±å¹•ä¼˜åŒ–: å±å¹•${screenWidth}px, å¼¹å¹•å®½åº¦${optimizedDanmuWidth}px, ä½ç½®(${x.toFixed(0)}, ${y.toFixed(0)})`);
                }
                return { x, y };
            }
            
            // é€šç”¨è®¡ç®—
            const maxX = screenWidth - danmuWidth - margin;
            const maxY = screenHeight - danmuHeight - margin;
            
            // ç¡®ä¿æœ€å°å¯ç”¨ç©ºé—´
            const safeMaxX = Math.max(maxX, screenWidth * 0.2);
            const safeMaxY = Math.max(maxY, screenHeight * 0.2);
            
            const x = Math.random() * safeMaxX + margin;
            const y = Math.random() * safeMaxY + margin;
            
            // å‰3æ¡å¼¹å¹•æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯
            if (danmuCount < 3) {
                console.log(`å±å¹•: ${screenWidth}x${screenHeight}, å¼¹å¹•å®½åº¦: ${danmuWidth.toFixed(0)}px, ä½ç½®: (${x.toFixed(0)}, ${y.toFixed(0)})`);
            }
            
            return { x, y };
        }

        // é¢œè‰²ä¸»é¢˜æ•°ç»„ï¼ˆåŒ…å«ä¸»é¢˜ç±»åå’Œå¯¹åº”å›¾æ ‡ï¼‰
        const colorThemes = [
            { theme: 'theme-pink', icon: 'ğŸ’—' },
            { theme: 'theme-blue', icon: 'ğŸ’™' },
            { theme: 'theme-green', icon: 'ğŸ’š' },
            { theme: 'theme-purple', icon: 'ğŸ’œ' },
            { theme: 'theme-orange', icon: 'ğŸ§¡' },
            { theme: 'theme-cyan', icon: 'ğŸ’' }
        ];

        // åˆ›å»ºå•ä¸ªå¼¹å¹•
        function createSingleDanmu() {
            if (danmuCount >= totalTargetCount) {
                stopGeneration();
                return;
            }

            const danmu = document.createElement('div');
            const tipText = warmTips[Math.floor(Math.random() * warmTips.length)];
            const position = getRandomPosition();
            
            // éšæœºé€‰æ‹©é¢œè‰²ä¸»é¢˜
            const selectedTheme = colorThemes[Math.floor(Math.random() * colorThemes.length)];
            
            danmu.className = `danmu-item ${selectedTheme.theme}`;
            danmu.style.zIndex = currentZIndex++;
            danmu.style.left = position.x + 'px';
            danmu.style.top = position.y + 'px';
            danmu.style.whiteSpace = 'normal'; // å…è®¸æ¢è¡Œ
            
            // åˆ›å»ºæ¸©é¦¨æç¤ºç»“æ„ï¼Œä½¿ç”¨å¯¹åº”çš„å›¾æ ‡
            danmu.innerHTML = `
                <div class="danmu-header">
                    <span class="danmu-icon">${selectedTheme.icon}</span>
                    <span>ç”œèœœè¯è¯­</span>
                </div>
                <div class="danmu-content">${tipText}</div>
            `;

            // æ·»åŠ åˆ°å®¹å™¨ä¸­
            danmuContainer.appendChild(danmu);
            
            danmuCount++;
            updateStats();
            updateProgress();
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            statsElement.textContent = `ç”Ÿæˆä¸­: ${danmuCount} / ${totalTargetCount}`;
            if (danmuCount >= totalTargetCount) {
                statsElement.textContent = `å®Œæˆ: ${danmuCount} / ${totalTargetCount}`;
            }
        }

        // æ›´æ–°è¿›åº¦ç¯
        function updateProgress() {
            const progress = danmuCount / totalTargetCount;
            const circumference = 2 * Math.PI * 45;
            const offset = circumference - (progress * circumference);
            progressCircle.style.strokeDashoffset = offset;
        }

        // å¼€å§‹ç”Ÿæˆå¼¹å¹• - æ¯ç§’10æ¡
        function startGeneration() {
            console.log('å¼€å§‹ç”Ÿæˆç”œèœœè¯è¯­...');
            
            // æ¯100msç”Ÿæˆä¸€æ¡å¼¹å¹•ï¼Œå®ç°æ¯ç§’10æ¡çš„æ•ˆæœ
            intervalId = setInterval(() => {
                createSingleDanmu();
            }, 100);
        }

        // åœæ­¢ç”Ÿæˆ
        function stopGeneration() {
            if (intervalId) {
                clearInterval(intervalId);
                intervalId = null;
                console.log('ç”œèœœè¯è¯­ç”Ÿæˆå®Œæˆï¼ğŸ’•');
                cleanupAfterComplete();
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨å¼€å§‹
        window.addEventListener('load', () => {
            // åˆå§‹åŒ–è¿›åº¦ç¯
            const circumference = 2 * Math.PI * 45;
            progressCircle.style.strokeDasharray = circumference;
            progressCircle.style.strokeDashoffset = circumference;
            
            console.log('ğŸ’ ç»™å¥³æœ‹å‹çš„ç”œèœœè¯è¯­ç³»ç»Ÿå·²åŠ è½½');
            console.log('å°†è‡ªåŠ¨ç”Ÿæˆ100æ¡ç”œèœœè¯è¯­ï¼Œæ¯ç§’10æ¡...');
            
            // å»¶è¿Ÿ1ç§’å¼€å§‹ç”Ÿæˆ
            setTimeout(() => {
                startGeneration();
            }, 1000);
        });

        // æ€§èƒ½ä¼˜åŒ–ï¼šåªåœ¨å®Œæˆåè¿›è¡Œæ¸…ç†ï¼Œè®©æ‰€æœ‰å¼¹å¹•éƒ½ç´¯ç§¯æ˜¾ç¤º
        function cleanupAfterComplete() {
            setTimeout(() => {
                console.log('æ‰€æœ‰ç”œèœœè¯è¯­å·²ç”Ÿæˆå®Œæˆï¼Œæ»¡æ»¡çš„çˆ±æ„ğŸ’•');
                // å¯ä»¥é€‰æ‹©æ˜¯å¦æ¸…ç†ï¼Œç°åœ¨ä¿ç•™æ‰€æœ‰å¼¹å¹•
            }, 2000);
        }
    </script>
</body>
</html>
